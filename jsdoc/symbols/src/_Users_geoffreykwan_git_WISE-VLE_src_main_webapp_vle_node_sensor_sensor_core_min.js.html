<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"> <style>
	.KEYW {color: #933;}
	.COMM {color: #bbb; font-style: italic;}
	.NUMB {color: #393;}
	.STRN {color: #393;}
	.REGX {color: #339;}
	.line {border-right: 1px dotted #666; color: #666; font-style: normal;}
	</style></head><body><pre><span class='line'>  1</span> <span class="NAME">SensorNode.prototype</span><span class="PUNC">=</span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Node</span><span class="PUNC">;</span><span class="NAME">SensorNode.prototype.constructor</span><span class="PUNC">=</span><span class="NAME">SensorNode</span><span class="PUNC">;</span><span class="NAME">SensorNode.prototype.parentNode</span><span class="PUNC">=</span><span class="NAME">Node.prototype</span><span class="PUNC">;</span><span class="NAME">SensorNode.authoringToolName</span><span class="PUNC">=</span><span class="STRN">"Sensor"</span><span class="PUNC">;</span><span class="NAME">SensorNode.authoringToolDescription</span><span class="PUNC">=</span><span class="STRN">"Students use a USB probe to collect data"</span><span class="PUNC">;</span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">SensorNode</span><span class="PUNC">(</span><span class="NAME">a</span><span class="PUNC">,</span><span class="NAME">c</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">this.view</span><span class="PUNC">=</span><span class="NAME">c</span><span class="PUNC">;</span><span class="NAME">this.type</span><span class="PUNC">=</span><span class="NAME">a</span><span class="PUNC">;</span><span class="NAME">this.prevWorkNodeIds</span><span class="PUNC">=</span><span class="PUNC">[</span><span class="PUNC">]</span><span class="PUNC">}</span><span class="NAME">SensorNode.prototype.parseDataJSONObj</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">a</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">SENSORSTATE.prototype.parseDataJSONObj</span><span class="PUNC">(</span><span class="NAME">a</span><span class="PUNC">)</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">SensorNode.prototype.translateStudentWork</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">a</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">a</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>  2</span> </span><span class="NAME">SensorNode.prototype.onExit</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.contentPanel</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">this.contentPanel.save</span><span class="PUNC">&&</span><span class="NAME">this.contentPanel.save</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">try</span><span class="PUNC">{</span><span class="KEYW">if</span><span class="PUNC">(</span><span class="NAME">this.contentPanel.onExit</span><span class="PUNC">)</span><span class="KEYW">try</span><span class="PUNC">{</span><span class="NAME">this.contentPanel.onExit</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">}</span><span class="KEYW">catch</span><span class="PUNC">(</span><span class="NAME">a</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="KEYW">catch</span><span class="PUNC">(</span><span class="NAME">c</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">history.back</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>  3</span> </span><span class="NAME">SensorNode.prototype.renderGradingView</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">a</span><span class="PUNC">,</span><span class="NAME">c</span><span class="PUNC">,</span><span class="NAME">b</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">d</span><span class="PUNC">=</span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">SENSOR</span><span class="PUNC">(</span><span class="KEYW">this</span><span class="PUNC">,</span><span class="NAME">this.view</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">b</span><span class="PUNC">==</span><span class="KEYW">null</span><span class="PUNC">&&</span><span class="PUNC">(</span><span class="NAME">b</span><span class="PUNC">=</span><span class="STRN">""</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">e</span><span class="PUNC">=</span><span class="NAME">c.id</span><span class="PUNC">,</span><span class="NAME">c</span><span class="PUNC">=</span><span class="NAME">c.getLatestWork</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">d.sensorState</span><span class="PUNC">=</span><span class="NAME">c</span><span class="PUNC">;</span><span class="NAME">d.generateGraphDataArray</span><span class="PUNC">(</span><span class="NAME">c</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">d.parseGraphParams</span><span class="PUNC">(</span><span class="NAME">this.content.getContentJSON</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">graphParams</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">f</span><span class="PUNC">=</span><span class="NAME">createElement</span><span class="PUNC">(</span><span class="NAME">document</span><span class="PUNC">,</span><span class="STRN">"div"</span><span class="PUNC">,</span><span class="PUNC">{</span><span class="NAME">id</span><span class="PUNC">:</span><span class="NAME">b</span><span class="PUNC">+</span><span class="STRN">"sensorGraphDiv_"</span><span class="PUNC">+</span><span class="NAME">e</span><span class="PUNC">,</span><span class="NAME">style</span><span class="PUNC">:</span><span class="STRN">"width:400px;height:200px;"</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">g</span><span class="PUNC">=</span><span class="NAME">createElement</span><span class="PUNC">(</span><span class="NAME">document</span><span class="PUNC">,</span><span class="STRN">"div"</span><span class="PUNC">,</span><span class="PUNC">{</span><span class="NAME">id</span><span class="PUNC">:</span><span class="NAME">b</span><span class="PUNC">+</span><span class="STRN">"sensorGraphCheckBoxesDiv_"</span><span class="PUNC">+</span><span class="NAME">e</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">h</span><span class="PUNC">=</span><span class="NAME">createElement</span><span class="PUNC">(</span><span class="NAME">document</span><span class="PUNC">,</span><span class="STRN">"div"</span><span class="PUNC">,</span><span class="PUNC">{</span><span class="NAME">id</span><span class="PUNC">:</span><span class="NAME">b</span><span class="PUNC">+</span><span class="STRN">"sensorAnnotationsDiv_"</span><span class="PUNC">+</span><span class="NAME">e</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="NAME">b</span><span class="PUNC">=</span><span class="NAME">createElement</span><span class="PUNC">(</span><span class="NAME">document</span><span class="PUNC">,</span><span class="STRN">"div"</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>  4</span> </span><span class="PUNC">{</span><span class="NAME">id</span><span class="PUNC">:</span><span class="NAME">b</span><span class="PUNC">+</span><span class="STRN">"sensorResponseDiv_"</span><span class="PUNC">+</span><span class="NAME">e</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">$</span><span class="PUNC">(</span><span class="STRN">"#"</span><span class="PUNC">+</span><span class="NAME">a</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">append</span><span class="PUNC">(</span><span class="NAME">f</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">$</span><span class="PUNC">(</span><span class="STRN">"#"</span><span class="PUNC">+</span><span class="NAME">a</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">append</span><span class="PUNC">(</span><span class="NAME">g</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">$</span><span class="PUNC">(</span><span class="STRN">"#"</span><span class="PUNC">+</span><span class="NAME">a</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">append</span><span class="PUNC">(</span><span class="NAME">h</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">$</span><span class="PUNC">(</span><span class="STRN">"#"</span><span class="PUNC">+</span><span class="NAME">a</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">append</span><span class="PUNC">(</span><span class="NAME">b</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">d.plotData</span><span class="PUNC">(</span><span class="NAME">f.id</span><span class="PUNC">,</span><span class="NAME">g.id</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">$</span><span class="PUNC">(</span><span class="STRN">"#"</span><span class="PUNC">+</span><span class="NAME">f.id</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">bind</span><span class="PUNC">(</span><span class="STRN">"mouseover"</span><span class="PUNC">,</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">$</span><span class="PUNC">(</span><span class="STRN">".activeAnnotationToolTip"</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">hide</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">$</span><span class="PUNC">(</span><span class="STRN">"#"</span><span class="PUNC">+</span><span class="NAME">f.id</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">bind</span><span class="PUNC">(</span><span class="STRN">"mouseleave"</span><span class="PUNC">,</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">$</span><span class="PUNC">(</span><span class="STRN">".activeAnnotationToolTip"</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">show</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a</span><span class="PUNC">=</span><span class="NAME">c.getAnnotationsHtml</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">$</span><span class="PUNC">(</span><span class="STRN">"#"</span><span class="PUNC">+</span><span class="NAME">h.id</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">html</span><span class="PUNC">(</span><span class="NAME">a</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">a</span><span class="PUNC">=</span><span class="NAME">c.response</span><span class="PUNC">;</span><span class="NAME">a</span><span class="PUNC">=</span><span class="NAME">this.view.replaceSlashNWithBR</span><span class="PUNC">(</span><span class="NAME">a</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">$</span><span class="PUNC">(</span><span class="STRN">"#"</span><span class="PUNC">+</span><span class="NAME">b.id</span><span class="PUNC">)</span><span class="PUNC">.</span><span class="NAME">html</span><span class="PUNC">(</span><span class="NAME">a</span><span class="PUNC">)</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="NAME">SensorNode.prototype.getHTMLContentTemplate</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">createContent</span><span class="PUNC">(</span><span class="STRN">"node/sensor/sensor.html"</span><span class="PUNC">)</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>  5</span> </span><span class="NAME">NodeFactory.addNode</span><span class="PUNC">(</span><span class="STRN">"SensorNode"</span><span class="PUNC">,</span><span class="NAME">SensorNode</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">eventManager</span><span class="PUNC">!=</span><span class="STRN">"undefined"</span><span class="PUNC">&&</span><span class="NAME">eventManager.fire</span><span class="PUNC">(</span><span class="STRN">"scriptLoaded"</span><span class="PUNC">,</span><span class="STRN">"vle/node/sensor/SensorNode.js"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="NAME">View.prototype.sensorDispatcher</span><span class="PUNC">=</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">a</span><span class="PUNC">,</span><span class="NAME">c</span><span class="PUNC">,</span><span class="NAME">b</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">a</span><span class="PUNC">==</span><span class="STRN">"sensorUpdateSensorType"</span><span class="PUNC">?</span><span class="NAME">b.SensorNode.updateSensorType</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">:</span><span class="NAME">a</span><span class="PUNC">==</span><span class="STRN">"sensorUpdateXUnits"</span><span class="PUNC">?</span><span class="NAME">b.SensorNode.updateXUnits</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">:</span><span class="NAME">a</span><span class="PUNC">==</span><span class="STRN">"sensorUpdateXMin"</span><span class="PUNC">?</span><span class="NAME">b.SensorNode.updateXMin</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">:</span><span class="NAME">a</span><span class="PUNC">==</span><span class="STRN">"sensorUpdateXMax"</span><span class="PUNC">?</span><span class="NAME">b.SensorNode.updateXMax</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">:</span><span class="NAME">a</span><span class="PUNC">==</span><span class="STRN">"sensorUpdateYUnits"</span><span class="PUNC">?</span><span class="NAME">b.SensorNode.updateYUnits</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">:</span><span class="NAME">a</span><span class="PUNC">==</span><span class="STRN">"sensorUpdateYMin"</span><span class="PUNC">?</span><span class="NAME">b.SensorNode.updateYMin</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">:</span><span class="NAME">a</span><span class="PUNC">==</span><span class="STRN">"sensorUpdateYMax"</span><span class="PUNC">?</span><span class="NAME">b.SensorNode.updateYMax</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">:</span><span class="NAME">a</span><span class="PUNC">==</span><span class="STRN">"sensorUpdateShowGraphOptions"</span><span class="PUNC">?</span><span class="NAME">b.SensorNode.updateShowGraphOptions</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">:</span><span class="NAME">a</span><span class="PUNC">==</span><span class="STRN">"sensorUpdateEnableCreatePrediction"</span><span class="PUNC">?</span><span class="WHIT">
<span class='line'>  6</span> </span><span class="NAME">b.SensorNode.updateEnableCreatePrediction</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">:</span><span class="NAME">a</span><span class="PUNC">==</span><span class="STRN">"sensorUpdateEnableSensor"</span><span class="PUNC">?</span><span class="NAME">b.SensorNode.updateEnableSensor</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">:</span><span class="NAME">a</span><span class="PUNC">==</span><span class="STRN">"sensorUpdateShowVelocity"</span><span class="PUNC">?</span><span class="NAME">b.SensorNode.updateShowVelocity</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">:</span><span class="NAME">a</span><span class="PUNC">==</span><span class="STRN">"sensorUpdateShowAcceleration"</span><span class="PUNC">?</span><span class="NAME">b.SensorNode.updateShowAcceleration</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">:</span><span class="NAME">a</span><span class="PUNC">==</span><span class="STRN">"sensorUpdateRequirePredictionBeforeEnter"</span><span class="PUNC">?</span><span class="NAME">b.SensorNode.updateRequirePredictionBeforeEnter</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">:</span><span class="NAME">a</span><span class="PUNC">==</span><span class="STRN">"sensorUpdateGraphTitle"</span><span class="PUNC">?</span><span class="NAME">b.SensorNode.updateGraphTitle</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">:</span><span class="NAME">a</span><span class="PUNC">==</span><span class="STRN">"sensorUpdateLockPredictionOnCollectionStart"</span><span class="PUNC">?</span><span class="NAME">b.SensorNode.updateLockPredictionOnCollectionStart</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">:</span><span class="WHIT">
<span class='line'>  7</span> </span><span class="NAME">a</span><span class="PUNC">==</span><span class="STRN">"sensorUpdateDataCollectionTimeLimit"</span><span class="PUNC">&&</span><span class="NAME">b.SensorNode.updateDataCollectionTimeLimit</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>  8</span> </span><span class="KEYW">for</span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">events</span><span class="PUNC">=</span><span class="PUNC">[</span><span class="STRN">"sensorUpdateSensorType"</span><span class="PUNC">,</span><span class="STRN">"sensorUpdateXUnits"</span><span class="PUNC">,</span><span class="STRN">"sensorUpdateXMin"</span><span class="PUNC">,</span><span class="STRN">"sensorUpdateXMax"</span><span class="PUNC">,</span><span class="STRN">"sensorUpdateYUnits"</span><span class="PUNC">,</span><span class="STRN">"sensorUpdateYMin"</span><span class="PUNC">,</span><span class="STRN">"sensorUpdateYMax"</span><span class="PUNC">,</span><span class="STRN">"sensorUpdateShowGraphOptions"</span><span class="PUNC">,</span><span class="STRN">"sensorUpdateEnableCreatePrediction"</span><span class="PUNC">,</span><span class="STRN">"sensorUpdateEnableSensor"</span><span class="PUNC">,</span><span class="STRN">"sensorUpdateShowVelocity"</span><span class="PUNC">,</span><span class="STRN">"sensorUpdateShowAcceleration"</span><span class="PUNC">,</span><span class="STRN">"sensorUpdateRequirePredictionBeforeEnter"</span><span class="PUNC">,</span><span class="STRN">"sensorUpdateGraphTitle"</span><span class="PUNC">,</span><span class="STRN">"sensorUpdateLockPredictionOnCollectionStart"</span><span class="PUNC">,</span><span class="STRN">"sensorUpdateDataCollectionTimeLimit"</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="NAME">x</span><span class="PUNC">=</span><span class="NUMB">0</span><span class="PUNC">;</span><span class="NAME">x</span><span class="PUNC">&lt;</span><span class="NAME">events.length</span><span class="PUNC">;</span><span class="NAME">x</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="NAME">componentloader.addEvent</span><span class="PUNC">(</span><span class="NAME">events</span><span class="PUNC">[</span><span class="NAME">x</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>  9</span> </span><span class="STRN">"sensorDispatcher"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">eventManager</span><span class="PUNC">!=</span><span class="STRN">"undefined"</span><span class="PUNC">&&</span><span class="NAME">eventManager.fire</span><span class="PUNC">(</span><span class="STRN">"scriptLoaded"</span><span class="PUNC">,</span><span class="STRN">"vle/node/sensor/sensorEvents.js"</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'> 10</span> </span><span class="KEYW">if</span><span class="PUNC">(</span><span class="KEYW">typeof</span><span class="WHIT"> </span><span class="NAME">eventManager</span><span class="WHIT"> </span><span class="PUNC">!=</span><span class="WHIT"> </span><span class="STRN">'undefined'</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="NAME">eventManager.fire</span><span class="PUNC">(</span><span class="STRN">'scriptLoaded'</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="STRN">'vle/node/sensor/sensor_core_min.js'</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'> 11</span> </span></pre></body></html>